# ğŸš€ **Amazon EFS â€“ Performance Settings Guide**

_Optimize Elastic File System (EFS) for speed, scalability, and workload patterns._

---

<div style="text-align: center;">
  <img src="images/efs-performance.png" alt="EFS Performance" style="border-radius: 10px; width:80%">
</div>

---

## ğŸ“ˆ **Throughput Modes**

_EFS throughput determines how much data per second your file system can read/write._

You can choose one of three modes based on your application pattern:

---

### ğŸˆ **1. Bursting Mode** _(Default & Smart Option)_

- ğŸ’¡ **Auto-Scales With Size**: Up to **100 MB/s per TB**, scaling as the file system grows.
- âš ï¸ **Burst Credit Based**:

  - When credits exist: up to **100 MB/s per TB**.
  - When depleted: baseline drops to **50 MB/s per TB**.

- âœ… **Best For**: General workloads with unpredictable access patterns (e.g., web apps, CMS, developer folders).

---

### â™ **2. Provisioned Mode** _(Predictable & Reserved)_

- ğŸ—ï¸ **Fixed Throughput**: You specify how much throughput you need (e.g., 100 MB/s).
- ğŸ§¾ **Bill Separately**: You pay for throughput whether used or not.
- âœ… **Best For**: Workloads with consistent I/O like data pipelines or ingestion jobs.

---

### ğŸ’« **3. Elastic Throughput** _(New & Adaptive)_

- ğŸš€ **Auto-Scales Without Credit Model**.
- ğŸ§  **Smart Adaptation**: Dynamically adjusts throughput with workload spikes.
- âœ… **Best For**: Spiky workloads with unpredictable I/O (e.g., serverless workloads or CI/CD builds).

---

> ğŸ” **Switching Rules**:
>
> You can switch throughput mode **once every 24 hours**.

---

## âš™ï¸ **Performance Modes**

_This setting determines how EFS handles latency and IOPS under the hood._

Choose **once at file system creation** (canâ€™t change later):

---

### ğŸŸ¢ **1. General Purpose** _(Default & Recommended)_

- âš¡ **Low Latency** (sub-millisecond)
- ğŸ”„ **Optimal for Metadata-Heavy Ops**
- ğŸ§° **Use Case**: Web apps, CMS, home directories, developer workloads.
- ğŸ“ˆ **IOPS**: Up to **35,000+**

---

### ğŸ”µ **2. Max I/O Mode** _(Scale First, Speed Second)_

- ğŸ§ª **Designed for Parallel Access**
- ğŸ•’ Slightly **higher latency**
- ğŸ§° **Use Case**: Big Data, genomics, media rendering, ML model training.
- ğŸ“ˆ **IOPS**: **500,000+** (at scale)

---

## ğŸ§  **Best Practice Matrix**

| Workload Type               | Throughput Mode    | Performance Mode | Notes                                  |
| --------------------------- | ------------------ | ---------------- | -------------------------------------- |
| Web Server or CMS           | Bursting / Elastic | General Purpose  | Default is ideal                       |
| Analytics Pipeline          | Provisioned        | Max I/O          | Consistent ingest and parallel compute |
| CI/CD or Dev Environments   | Elastic            | General Purpose  | Handles spiky workloads well           |
| Scientific / HPC Processing | Provisioned        | Max I/O          | Scales massively across EC2 nodes      |
| Mixed Patterns              | Elastic            | General Purpose  | Auto-adapts without tuning credits     |

---

## ğŸ“Œ Final Tips

- ğŸ§  **Choose General Purpose unless you're doing distributed parallel I/O**
- ğŸ”„ Use **Elastic throughput** for modern, unpredictable workloads
- ğŸ“Š Monitor throughput usage in **CloudWatch Metrics** to fine-tune performance
- ğŸ§¾ Donâ€™t forget **Provisioned mode** is billed even if unused!
