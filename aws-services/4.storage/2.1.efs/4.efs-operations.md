# ğŸ› ï¸ **Amazon EFS â€“ Operations & Migrations Simplified**

> Not every EFS configuration change requires a full migration â€” but some definitely do.

---

## âœ… **In-Place Operations** (No migration needed)

You can modify these **directly on the EFS** file system:

| Operation                  | ğŸ”§ Description                                                  |
| -------------------------- | --------------------------------------------------------------- |
| **Lifecycle Policy**       | ğŸ“‰ Enable/adjust **IA (Infrequent Access)** storage class rules |
| **Throughput Mode**        | âš™ï¸ Switch between **Bursting** and **Provisioned** throughput   |
| **Provisioned Throughput** | ğŸ“ˆ Increase or decrease the provisioned value (within limits)   |
| **EFS Access Points**      | ğŸ¯ Add or modify access points for secure, role-based access    |

---

## ğŸ” **Operations That Require Migration** (via AWS DataSync)

Some changes are **not possible directly** and require creating a new EFS and migrating data using **AWS DataSync**:

| ğŸš« Direct Change Not Allowed            | ğŸ› ï¸ Recommended Solution                                              |
| --------------------------------------- | -------------------------------------------------------------------- |
| Enable encryption on an unencrypted EFS | Use **DataSync** to migrate data to a new encrypted EFS ğŸ”           |
| Change **Performance Mode**             | Create new EFS with `MaxIO` (or other) and migrate using DataSync âš¡ |

ğŸ“Œ DataSync copies:

- All **file contents**
- **Metadata** (permissions, timestamps)
- **File attributes** (ownership, ACLs)

---

ğŸ“Š **Diagram Example â€“ EFS Migration with Encryption**

<div style="text-align: center;">
  <img src="images/efs-migration-with-encryption.png" alt="EFS DataSync" style="border-radius: 10px; width: 80%;">
</div>

---

### ğŸ§  Summary

| âœ… In-place Ops      | ğŸ” Migration Required      |
| -------------------- | -------------------------- |
| Lifecycle rules (IA) | Encryption (at rest)       |
| Throughput settings  | Performance Mode (Max IO)  |
| Access Points        | Cross-account/cross-region |
