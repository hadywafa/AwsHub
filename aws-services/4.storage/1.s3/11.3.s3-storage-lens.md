# ğŸ§  **Amazon S3 Storage Lens â€“ Quick Exam Guide**

**S3 Storage Lens** helps you **analyze, optimize, and monitor** S3 storage usage **across all accounts in your AWS Organization**.

---

<div style="text-align: center;">
  <img src="images/s3-storage-lens-overview.png"
       alt="S3 Storage Lens Overview"
       style="border-radius: 10px; width: 60%;">
</div>

---

## ğŸ“Š **What It Does**

- âœ… Analyze **storage usage & activity** (30-day historical data by default)
- âœ… Detect **anomalies, cost inefficiencies, and unused data**
- âœ… Apply **data protection best practices**
- âœ… Works **Org-wide**, per **account**, **region**, **bucket**, or **prefix**
- âœ… Can **export daily metrics** to S3 in CSV or Parquet

---

## ğŸ§  How It Works

```mermaid
flowchart LR
    A[Multiple Buckets & Accounts] --> B[S3 Storage Lens Dashboard]
    B --> C[Daily Metrics: Usage, Activity, Cost]
    C --> D[Visualized in Console or Exported to CSV/Parquet]
```

---

## ğŸ“‹ **Default Dashboard**

- Preconfigured by S3 â€“ **canâ€™t be deleted**, but can be **disabled**
- Shows **multi-account, multi-region** metrics
- Available to **all accounts by default**

---

<div align="center">
  <img src="images/s3-storage-lens.png" alt="S3 Storage Lens" style="border-radius: 10px; width: 60%;">
</div>

---

## ğŸ“¦ **Types of Metrics**

| Category                     | What It Shows / Use Case                                                 |
| ---------------------------- | ------------------------------------------------------------------------ |
| ğŸ“Œ **Summary Metrics**       | `StorageBytes`, `ObjectCount` â€“ Find fastest-growing buckets/prefixes    |
| ğŸ’° **Cost Optimization**     | `NonCurrentVersionStorageBytes`, `IncompleteMultipartUploadBytes`        |
| ğŸ”’ **Data Protection**       | `VersioningEnabledBucketCount`, `SSEKMSEnabledBucketCount`               |
| ğŸ‘¤ **Access Management**     | `ObjectOwnershipBucketOwnerEnforcedBucketCount` â€“ Track bucket ownership |
| ğŸ“© **Event Metrics**         | `EventNotificationEnabledBucketCount` â€“ S3 Event Notifications           |
| âš¡ **Performance Metrics**   | `TransferAccelerationEnabledBucketCount`                                 |
| ğŸ“ˆ **Activity Metrics**      | `GetRequests`, `PutRequests`, `ListRequests`, `BytesDownloaded`          |
| ğŸ” **Detailed Status Codes** | `200OK`, `403Forbidden`, `404NotFound` counts                            |

---

## ğŸ’¡ **Metric Plans**

| Plan                      | Description                                                           |
| ------------------------- | --------------------------------------------------------------------- |
| ğŸ†“ **Free Metrics**       | \~28 metrics, **14-day retention**, auto-enabled                      |
| ğŸ’ **Advanced Metrics**   | Extra insights (activity, cost, status codes), **15-month retention** |
| ğŸ“¡ **CloudWatch Publish** | Push metrics to CloudWatch at no extra cost (if enabled)              |
| ğŸ§© **Prefix Aggregation** | Collect metrics at **prefix** level (paid tier only)                  |

---

## ğŸ”§ How to Enable **S3 Storage Lens**

**ğŸ“ Steps via Console:**

1. Open S3 service â†’ Navigate to **â€œStorage Lensâ€** tab.
2. Click **Create dashboard**.
3. Fill the config:
   - **Name**: `global-storage-insights`
   - **Region**: Where the dashboard resides (e.g. `us-east-1`)
   - **Include buckets**: All or filtered by account/region.
   - Optional: Enable **metrics export** to S3.
   - Optional: Enable **Advanced metrics** (paid tier).
4. Click **Create**.

**ğŸ“Š Where to View Dashboard:**

- Go to **S3 â†’ Storage Lens â†’ Your Dashboard**.
- Use filters to sort by account, tag, region, etc.

---

## ğŸ§° Key Features

| Feature              | Description                                                    |
| -------------------- | -------------------------------------------------------------- |
| ğŸ§  Metrics           | Object count, size, request counts, failed requests, etc.      |
| ğŸ§­ Scope             | Account, Org, or Region-wide views                             |
| ğŸ“ˆ Historical Data   | Up to **15 months** of trend data for long-term insights       |
| ğŸ“Š Dashboards        | Visual graphs + tables inside the AWS Console                  |
| ğŸ” Free & Paid Tiers | Free tier + optional **Advanced Metrics** with deeper insights |

---

## ğŸ“¦ Storage Lens Dashboard Snapshot

| Metric              | Description                            |
| ------------------- | -------------------------------------- |
| Total Storage       | Total GB stored across all buckets     |
| Object Count        | Number of objects                      |
| Average Object Size | Calculated per bucket                  |
| % Encrypted Objects | Tracks SSE-S3, SSE-KMS usage           |
| Replication Status  | Tracks cross-region replicated objects |
| Access Activity     | Read/write requests per bucket         |

---

## âœ… **Exam Tips**

- ğŸ§  S3 Storage Lens shows **both usage & activity metrics**
- ğŸ§¾ **Free plan** has **14-day** history; **Advanced** gives **15-month** retention
- ğŸ” Can **export daily metrics** to an S3 bucket
- â˜ï¸ Integrated with **CloudWatch** if enabled (for advanced metrics)
