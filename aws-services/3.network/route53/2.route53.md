# ğŸŒ **AWS Route 53 â€“ Scalable DNS for Public & Private Workloads**

> **Route 53** is Amazonâ€™s highly available and scalable **Domain Name System (DNS)** service that routes user requests to AWS or external resources, with smart routing policies and deep integration with AWS services.

---

<div style="text-align: center;">
  <img src="images/dns.png" alt="Simple DNS concept" style="border-radius: 10px; width: 100%;">
</div>

---

## ğŸ§­ What Is Route 53?

- Fully managed **DNS** service by AWS.
- Converts domain names like `www.example.com` â IP addresses.
- Works for both **internet-facing (public)** and **internal (private)** applications.

  > ğŸ” **internet-facing workload** â†’ Public Workloads such: Websites, APIs, or services accessed over the internet.  
  > ğŸ”’ **Internal Workloads** â†’ Private Workloads such: databases, services inside a VPC.

- Supports:

  - ğŸŒ **Public DNS** (internet-facing apps)
  - ğŸ”’ **Private DNS** (within a VPC)
  - ğŸ·ï¸ **Domain registration**
  - ğŸ§­ **Routing policies**
  - ğŸ§‘â€âš•ï¸ **Health checks**

---

## ğŸ§° Route 53 â€“ Hosted Zones

> A **Hosted Zone** = A container of DNS records for a domain and its subdomains.

---

| Type                       | Use Case                                                            |
| -------------------------- | ------------------------------------------------------------------- |
| ğŸŒ **Public Hosted Zone**  | For routing traffic on the internet (e.g., `myapp.com`)             |
| ğŸ¢ **Private Hosted Zone** | For internal routing inside one or more VPCs (e.g., `app.internal`) |

ğŸ’° **Cost**: \$0.50/month per hosted zone

---

<div style="text-align: center;">
  <img src="images/public_zone-vs-private_zone.png" alt="public_zone-vs-private_zone" style="border-radius: 10px; width: 100%;">
</div>

---

## ğŸ·ï¸ Route 53 â€“ DNS Records

> Each DNS record defines how to route traffic for a domain or subdomain.

| Field          | Description                                |
| -------------- | ------------------------------------------ |
| ğŸ§¾ **Name**    | Domain/subdomain (e.g., `www.example.com`) |
| ğŸ”  **Type**    | Record type (e.g., A, AAAA, CNAME...)      |
| ğŸ¯ **Value**   | Destination (e.g., IP address or hostname) |
| ğŸš¦ **Routing** | Routing policy (e.g., simple, weighted)    |
| â³ **TTL**     | Time to live (cache duration at resolvers) |

---

## ğŸ§¾ Supported Record Types (Must-Know First)

| Record Type | Description                                     |
| ----------- | ----------------------------------------------- |
| **A**       | Maps domain to IPv4 address                     |
| **AAAA**    | Maps domain to IPv6 address                     |
| **CNAME**   | Maps domain to another domain (alias), not root |
| **NS**      | Name servers for the domain (authoritative)     |
| **MX**      | Mail server routing                             |
| **TXT**     | Text data (e.g., verification, SPF, DKIM)       |
| **SOA**     | Start of Authority â€“ contains DNS metadata      |

ğŸ“š **Advanced types**: CAA, DS, NAPTR, PTR, SPF, SRV

---

## ğŸ“¸ CNAME vs Alias â€“ Whatâ€™s the Difference?

| Feature        | **CNAME**                                  | **Alias**                                                  |
| -------------- | ------------------------------------------ | ---------------------------------------------------------- |
| Works on Root? | âŒ No â€“ only subdomains                    | âœ… Yes â€“ works on apex/root too                            |
| Target Type    | Any hostname (`example.other.com`)         | AWS resources (ELB, S3, CloudFront...)                     |
| TTL            | âœ… You must set it                         | âŒ AWS manages it automatically                            |
| Cost           | Normal DNS charges                         | ğŸ’¸ Free with AWS resources                                 |
| Use Case       | Redirect to any external/internal hostname | Redirect to AWS services (Load Balancer, CloudFront, etc.) |

---

## ğŸ›°ï¸ Alias Record Targets â€“ Where You Can Point

- âœ… `Elastic Load Balancers - ELB`
- âœ… `Amazon CloudFront`
- âœ… `Amazon API Gateway`
- âœ… `AWS Global Accelerator`
- âœ… `S3 Static Websites`
- âœ… `VPC Interface Endpoints`
- âœ… `Elastic Beanstalk`
- âœ… `Another Route 53 Record (same hosted zone)`

âŒ Not supported: EC2 DNS names

---

## â±ï¸ TTL â€“ Time To Live Explained

> TTL controls **how long DNS resolvers cache your record**.

---

| TTL Duration                | Behavior                                         |
| --------------------------- | ------------------------------------------------ |
| â° **High TTL** (e.g., 24h) | - ğŸ”„ Less DNS traffic </br> - â›”ï¸ Slower updates |
| âš¡ **Low TTL** (e.g., 60s)  | - âœ… Quick changes </br> - ğŸ’° More queries/costs |

---

## ğŸ“ **Routing Policies in Route 53**

| Policy               | Description                                              |
| -------------------- | -------------------------------------------------------- |
| ğŸ¯ **Simple**        | One record â One destination                             |
| âš–ï¸ **Weighted**      | Split traffic (e.g., 70% to `us`, 30% to `eu`)           |
| ğŸ§­ **Latency-Based** | Route users to the lowest-latency AWS region             |
| ğŸŒ **Geolocation**   | Route based on user's country/continent                  |
| ğŸš¨ **Failover**      | Primary/secondary routing (fallback to healthy endpoint) |

---

## ğŸ§‘â€âš•ï¸ Health Checks & Monitoring

- ğŸ§  **Health Checks is only for Public Resources**
- âœ… Checks endpoint health (e.g., every 30s)
- ğŸ” Automatically reroutes traffic when a target is **unhealthy**
- ğŸ’¡ Required for **Failover Routing**
- ğŸ”— Can be linked to CloudWatch alarms

---

## ğŸ“˜ Domain Lifecycle in Route 53

```mermaid
graph LR
    A[Register Domain] --> B[Create Public Hosted Zone]
    B --> C["Add DNS Records (A, CNAME...)"]
    C --> D[Attach Routing Policies]
    D --> E[Deploy Public or Private Workloads]
```

### âš™ï¸ **How To Use Route 53**

1. **ğŸ“¦ Create a Hosted Zone**  
   Choose between **Public** or **Private** based on your use case.

2. **ğŸ“ Add DNS Records**  
   Add `A`, `CNAME`, `MX`, `NS`, or other record types to define routing behavior.

3. **ğŸŒ Route Traffic**  
   When users enter your domain, Route 53 resolves it to the correct public or private IP address.

---

## ğŸ“Œ Summary Table

| âœ… Feature          | ğŸ’¬ Description                                |
| ------------------- | --------------------------------------------- |
| ğŸŒ Route 53         | DNS service for AWS and external domains      |
| ğŸ—‚ï¸ Hosted Zones     | Public = for internet, Private = inside VPC   |
| ğŸ§¾ Record Types     | A, AAAA, CNAME, Alias, NS, MX, TXT, SOA, etc. |
| â³ TTL              | Controls DNS caching behavior                 |
| ğŸ¯ Routing Policies | Simple, Weighted, Latency, Geo, Failover      |
| ğŸ§‘â€âš•ï¸ Health Checks | Monitor targets and reroute on failure        |
| ğŸ’¡ Alias vs CNAME   | Alias supports AWS services + root domain     |

---

> By using **Route 53**, you get a DNS service thatâ€™s not just a name resolverâ€”but a **smart, integrated, health-aware traffic controller** for your modern applications ğŸš€ğŸŒ
