# ğŸ” CloudWatch vs CloudTrail vs AWS Config

> _Monitoring, Auditing, and Compliance â€“ Know when to use what._

---

## ğŸš¦ Quick Summary

| Feature    | ğŸ§  CloudWatch                   | ğŸ•µï¸â€â™‚ï¸ CloudTrail                        | âœ… AWS Config                         |
| ---------- | ------------------------------- | ------------------------------------ | ------------------------------------- |
| Purpose    | Performance monitoring          | API call auditing                    | Configuration history & compliance    |
| Tracks     | Metrics, logs, alarms           | Who did what (API actions)           | How resources change over time        |
| Real-Time? | âœ… Near real-time               | âŒ \~15 min delay                    | âŒ Not real-time, event-based         |
| Visibility | System metrics + custom metrics | Account-level activity               | Resource-level state and history      |
| Alerts     | âœ… Alarms & EventBridge         | âœ… EventBridge via trail integration | âœ… EventBridge & remediation triggers |
| Storage    | CloudWatch Logs                 | S3 Buckets (log files)               | Config Snapshots stored in Config/S3  |

---

## ğŸ§ª Unified Example: Elastic Load Balancer (ELB)

Letâ€™s say you have an **Application Load Balancer (ALB)**. Hereâ€™s how each service would help:

---

### ğŸ“Š **CloudWatch â€“ Real-Time Monitoring & Alarms**

- Monitors performance metrics like:

  - **IncomingConnections**
  - **HTTP 4xx/5xx errors**
  - **TargetResponseTime**

- Use dashboards to track global health of multiple ALBs
- Trigger alarms when thresholds are crossed

**Example**:
ğŸš¨ Alert if `HTTPCode_ELB_5XX_Count > 50` in 5 minutes

---

### ğŸ” **AWS Config â€“ Configuration Tracking & Compliance**

- Detects **security group rule changes**
- Tracks changes to listener ports, SSL certs, target groups
- Evaluate **compliance rules** like:

  - â€œALBs must always use HTTPSâ€
  - â€œALBs must be associated with WAFâ€

**Example Rules**:

```yaml
- EnsureLoadBalancerHasSSLCert
- DisallowLoadBalancerHTTPListeners
```

**Use case**:
ğŸ” _"Was an insecure listener added to this ALB?"_
âœ… Config shows _when_, _what changed_, and _if it violated compliance_.

---

### ğŸ§¾ **CloudTrail â€“ API Call Logging & User Actions**

- Logs API calls like:

  - `ModifyLoadBalancerAttributes`
  - `DeleteListener`
  - `AttachTargetGroup`

- Answers:

  - â“ _Who added this security group?_
  - â“ _Which user disabled logging on this ALB?_

**Example**:
ğŸ§‘â€ğŸ’» _DevOpsUser123 used `DeleteLoadBalancer` at `12:05 UTC`_

---

## ğŸ§  Mental Model

| Question                            | Use...                                |
| ----------------------------------- | ------------------------------------- |
| â€œHow is my app performing?â€         | **CloudWatch**                        |
| â€œWho changed this setting?â€         | **CloudTrail**                        |
| â€œWhat did this resource look like?â€ | **AWS Config**                        |
| â€œIs this resource compliant?â€       | **AWS Config**                        |
| â€œAlert me if something breaksâ€      | **CloudWatch**                        |
| â€œTrigger an auto-remediationâ€       | **AWS Config** (SSM), **EventBridge** |

---

## ğŸ’¡ Pro Tip for the Exam

AWS loves **complementary use** of these three:

- ğŸ” **CloudTrail** tracks _who made changes_
- ğŸ“œ **Config** records _what changed and when_
- ğŸ“ˆ **CloudWatch** tells _how the system is performing_
