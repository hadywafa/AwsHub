# [âœ… or âŒ] AWS Config Rules

AWS Config Rules enable you to **define and evaluate policies** for AWS resources, ensuring compliance with best practices, security, and governance standards.

---

<div align="center">
  <img src="images/config-rules-overview.png" alt="AWS Config Monitoring Overview" style="border-radius: 10px; width: 100%;">
</div>

---

## ğŸ¯ What Are Config Rules?

Config Rules help you **define desired configurations** for AWS resources and continuously monitor them. If a resource **drifts** from the expected state, the rule marks it **NON_COMPLIANT**.

There are two types of rules:

- ğŸ§  **Managed Rules**: AWS provides 75+ pre-built rules (e.g., `required-tags`, `restricted-ssh`, etc.)
- ğŸ› ï¸ **Custom Rules**: You define your own logic via a **Lambda function**

> ğŸ§ª Example 1: Check if every EBS volume is `gp2`  
> ğŸ§ª Example 2: Verify EC2 instances are of type `t3.micro`

---

## ğŸ”„ When Do Rules Trigger?

Rules can be evaluated:

- ğŸ” On every **configuration change**
- â° At a regular **time interval** (e.g., every 6 hours)

---

## âš™ï¸ Hands-On: Create a Managed Rule

1. Go to the **AWS Config Console**
2. Click **Rules > Add Rule**
3. Choose a managed rule like `restricted-ssh`
4. Assign a target resource (e.g., EC2)
5. Set the evaluation trigger
6. Review and create

ğŸ” Now, AWS Config continuously evaluates the rule.

---

## âš¡ Remediation with SSM Automation

When resources become **non-compliant**, you can automatically fix them using **SSM Documents**.

### Auto-Remediation Example

> Revoke expired IAM access keys

<div align="center">
  <img src="images/config-auto-remediation.png" alt="Auto Remediation with AWS Config" style="width: 100%; border-radius: 10px;">
</div>

ğŸ§° Uses built-in SSM document:
`AWSConfigRemediation-RevokeUnusedIAMUserCredentials`

---

## ğŸ› ï¸ Custom Remediation Flow

You can create **custom SSM documents** that:

- Invoke Lambda
- Perform external API calls
- Trigger workflows

ğŸ’¡ Set **remediation retries** (e.g., 5 attempts) in case the issue persists.

---

## ğŸ“¢ EventBridge & Notifications

Trigger automation, Lambda functions, or SNS alerts when compliance fails:

<div align="center">
  <img src="images/config-eventbridge.png" alt="AWS Config with EventBridge" style="width: 100%; border-radius: 10px;">
</div>

ğŸ’¡ Use **EventBridge** filters or **SNS filtering policies** to avoid alert flooding.

---

## ğŸ‘¨â€ğŸ’¼ Notify Admins with Config + SNS

<div align="center">
  <img src="images/config-sns.png" alt="Notify Admins with AWS Config + SNS" style="width: 100%; border-radius: 10px;">
</div>

Admins receive notifications when **configuration drifts**, helping them take manual or automated action.

---

## ğŸ’¸ Pricing Breakdown

| Metric                    | Price                                      |
| ------------------------- | ------------------------------------------ |
| ğŸ“¦ Recording Config Items | \$0.003 per configuration item per region  |
| ğŸ§¾ Rule Evaluations       | \$0.001 per evaluation per rule per region |
| ğŸ”„ Remediation Executions | Billed via **SSM Automation** pricing      |

---

## ğŸš€ Summary: Why Use Config Rules?

- âœ… Enforce compliance without manual review
- âœ… Automate remediation (no more Slack alerts with no action!)
- âœ… Integrate with EventBridge and Lambda for real-time control
- âœ… Enable continuous auditability and security
