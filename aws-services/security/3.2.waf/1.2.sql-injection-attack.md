# ðŸ’¥ **SQL Injection (SQLi) Attack: How Hackers Target Your Databases**

> _One malicious input can open the doors to your entire database._

---

<div align="center" style="padding: 0 20px;">
  <img src="images/sql-injection-attack.png" alt="SQL Injection Attack" style="border-radius: 16px; width: 70%;" />
</div>

---

## ðŸŒŸ **Simple Definition**

An **SQL Injection (SQLi)** happens when an attacker **inserts malicious SQL code** into an applicationâ€™s input fields (like login forms or search boxes) â€” causing your application to **run unexpected database commands**.

âœ… **Think of it like this:**

> A restaurant takes your order without checking â€” attacker says: â€œOne pizza AND take all the money from the cash register.â€

---

## ðŸ§  **How SQL Injection Works**

```mermaid
flowchart TD
    A[User submits input (search, login, form)] --> B[Application constructs SQL query]
    B --> C{Input sanitized?}
    C -- No --> D[Malicious SQL gets executed on database]
    C -- Yes --> E[Query runs safely]
```

âœ… If the application doesn't sanitize inputs â†’ **attacker controls your database**.

---

## ðŸŽ¯ **Example of a Basic SQL Injection**

Suppose your login code does:

```sql
SELECT * FROM users WHERE username = 'user_input' AND password = 'user_input';
```

An attacker enters:

```bash
' OR '1'='1
```

So the query becomes:

```sql
SELECT * FROM users WHERE username = '' OR '1'='1' AND password = '' OR '1'='1';
```

âœ… **Always true** â†’ **Attacker logs in without knowing any real password!**

---

## ðŸ”¥ **What Attackers Can Do With SQL Injection**

| ðŸŽ¯ Goal                          | ðŸ’¬ Real Impact                                                   |
| :------------------------------- | :--------------------------------------------------------------- |
| ðŸ•µï¸ **Bypass authentication**     | Login as admin without knowing passwords                         |
| ðŸ“‹ **Dump database contents**    | Steal all user data, passwords, credit cards                     |
| ðŸ› ï¸ **Modify or delete data**     | Insert, update, delete critical records                          |
| ðŸ”¥ **Take full control**         | Execute administrative operations (e.g., shut down the database) |
| ðŸ“¡ **Pivot deeper into network** | Use database access to attack internal systems                   |

---

## ðŸ§© **Types of SQL Injection Attacks**

| Type                             | Description                                                                         | Example                                     |
| :------------------------------- | :---------------------------------------------------------------------------------- | :------------------------------------------ |
| ðŸ§¨ **Classic SQL Injection**     | Inject malicious SQL directly into queries                                          | `SELECT * FROM users WHERE id = '1 OR 1=1'` |
| ðŸ§¬ **Blind SQL Injection**       | Server responds with generic error or true/false only â€” attacker guesses bit by bit | No direct error, slow exploitation          |
| ðŸŽ­ **Out-of-Band SQL Injection** | Forces server to send data elsewhere (e.g., DNS exfiltration)                       | Rare but dangerous                          |

---

## ðŸ›¡ï¸ **How to Prevent SQL Injection**

| ðŸ› ï¸ Defense                                             | ðŸ’¬ What to Do                                                                                            |
| :----------------------------------------------------- | :------------------------------------------------------------------------------------------------------- |
| ðŸ“š **Use Prepared Statements / Parameterized Queries** | Donâ€™t concatenate SQL manually â€” use safe APIs                                                           |
| ðŸ§¹ **Input Validation**                                | Accept only expected formats (e.g., numbers, emails)                                                     |
| ðŸ›‘ **Escape Dangerous Characters**                     | Escape inputs like `'`, `"`, `;`, `%` properly                                                           |
| ðŸšª **Least Privilege Access**                          | DB user accounts should have **only necessary permissions** (e.g., no DROP TABLE access for normal apps) |
| ðŸ”¥ **Use Web Application Firewalls (AWS WAF)**         | Block known SQLi patterns at the edge                                                                    |

âœ… Best protection = **Parameterized queries first**, **validation second**, **firewall third**.

---

## ðŸ“š **Real-World Example**

> A major e-commerce site failed to sanitize its product search box.  
> Hackers injected malicious SQL into the search input.  
> Within hours, they **dumped millions of customer records** â€” leading to **huge fines**, **loss of reputation**, and **legal actions**.

âœ… SQL Injection is **one of the most common and devastating web vulnerabilities**.

---

## ðŸ“ˆ **Why SQL Injection is Still Dangerous Today**

| â— Danger       | ðŸ’¬ Why It Still Happens                                                |
| :-------------- | :--------------------------------------------------------------------- |
| ðŸ‘¨â€ðŸ’» Legacy Code  | Older apps didnâ€™t use secure coding practices                          |
| ðŸ—ï¸ New Features | Developers rushing to release features forget to sanitize              |
| ðŸ§© Complex APIs | Even modern GraphQL and NoSQL apps can have injection flaws if misused |
| ðŸ’¥ High Impact  | One injection = total database takeover                                |

---

## ðŸ“‹ **Summary: How to Think About SQL Injection**

| Question               | Answer                                                            |
| :--------------------- | :---------------------------------------------------------------- |
| What is SQL Injection? | Inserting malicious SQL code into an app's database queries       |
| Why is it dangerous?   | Can bypass login, steal or destroy all data                       |
| How to prevent it?     | Parameterized queries + Input validation + Least privilege access |

---

## ðŸ† **Final Smart Pro Tip**

> ðŸ§  **Never build SQL queries using user input directly.**  
> Always use **prepared statements** â€” no exceptions.

âœ… Example (Python with `sqlite3`):

```python
cursor.execute("SELECT * FROM users WHERE username = ?", (user_input,))
```

âœ… Example (PHP PDO):

```php
$stmt = $pdo->prepare('SELECT * FROM users WHERE username = :username');
$stmt->execute(['username' => $user_input]);
```

âœ… No manual string building = No SQL injection!
